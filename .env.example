# 数据库连接
DATABASE_URL="postgresql://username:password@localhost:5432/fsd_escrow?schema=public"

# 数据库连接池配置（可选）
# 如果未配置，开发环境使用10个连接，生产环境使用20个连接
DATABASE_CONNECTION_LIMIT="20"
DATABASE_CONNECTION_TIMEOUT="30000"

# NextAuth配置
NEXTAUTH_URL="http://localhost:3005"
NEXTAUTH_SECRET="your-secret-key-change-this-in-production"

# JWT密钥（必须256位以上强随机密钥）
# 生成方法: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET="your-jwt-secret-key-change-this"

# Upstash Redis配置（用于请求限流）
# ⚠️ 生产环境必须配置，否则限流功能无法在多实例/Serverless环境正常工作
# 如果未配置，将使用内存存储（仅适用于单实例开发环境）
#
# 注册免费账号: https://upstash.com/
# 创建Redis数据库后，在Dashboard复制REST API URL和Token
#
# 开发环境: 可以不配置（使用内存存储）
# 生产环境: 必须配置（否则会输出安全警告）
UPSTASH_REDIS_REST_URL=""
UPSTASH_REDIS_REST_TOKEN=""

# 支付配置(示例)
ALIPAY_APP_ID=""
ALIPAY_PRIVATE_KEY=""
ALIPAY_PUBLIC_KEY=""

WECHAT_APP_ID=""
WECHAT_APP_SECRET=""
WECHAT_MCH_ID=""
WECHAT_API_KEY=""

# 文件上传配置
UPLOAD_DIR="./public/uploads"
MAX_FILE_SIZE=5242880

# 平台配置
PLATFORM_FEE_RATE=0.03

# ============================================
# 📧 邮件服务配置（Nodemailer SMTP）
# ============================================

# SMTP服务器地址
# 常用配置:
# - QQ邮箱: smtp.qq.com
# - 163邮箱: smtp.163.com
# - Gmail: smtp.gmail.com
# - 自建邮箱服务器: mail.yourdomain.com
SMTP_HOST="smtp.qq.com"

# SMTP端口
# - 465: SSL加密（推荐）
# - 587: TLS加密
SMTP_PORT="465"

# 是否使用SSL加密（true/false）
SMTP_SECURE="true"

# 发件人邮箱账号
# 注意：
# - QQ邮箱需要使用授权码，不是QQ密码
# - 163邮箱需要开启SMTP服务并获取授权码
# - 获取授权码步骤见下方说明
SMTP_USER="your-email@qq.com"

# 发件人邮箱密码/授权码
# ⚠️ 重要：大多数邮箱服务需要使用"授权码"而非邮箱密码
# QQ邮箱授权码获取:
#   1. 登录QQ邮箱 → 设置 → 账户
#   2. 找到"POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV服务"
#   3. 开启"IMAP/SMTP服务"
#   4. 点击"生成授权码"
# 163邮箱授权码获取:
#   1. 登录163邮箱 → 设置 → POP3/SMTP/IMAP
#   2. 开启"SMTP服务"
#   3. 点击"新增授权密码"
SMTP_PASS="your-email-authorization-code"

# 发件人显示名称
SMTP_FROM_NAME="FSD担保交易平台"

# ============================================
# 🔐 邮箱验证配置
# ============================================

# 大额订单阈值（单位：元）
# 订单金额 ≥ 此阈值时需要邮箱验证
LARGE_PAYMENT_THRESHOLD=10000

# ============================================
# 📦 七牛云存储配置（用于图片上传）
# ============================================

# 七牛云AccessKey
# 获取方式：登录七牛云 → 个人中心 → 密钥管理
QINIU_ACCESS_KEY="your-qiniu-access-key"

# 七牛云SecretKey
QINIU_SECRET_KEY="your-qiniu-secret-key"

# 存储空间名称
QINIU_BUCKET="fsddanbao"

# 存储区域
# 常用区域代码:
# - Zone_z0: 华东-浙江
# - Zone_z1: 华北-河北
# - Zone_z2: 华南-广东
# - Zone_na0: 北美-洛杉矶
# - Zone_as0: 亚太-新加坡
QINIU_ZONE="Zone_as0"

# 访问域名
# 开发/测试环境：使用S3协议域名（立即可用）
# 格式: https://{bucket}.s3.{region}.qiniucs.com
# 示例: https://fsddanbao.s3.ap-southeast-1.qiniucs.com
#
# 生产环境：推荐绑定自定义CDN域名
# 格式: https://cdn.yourdomain.com
QINIU_DOMAIN="https://fsddanbao.s3.ap-southeast-1.qiniucs.com"

# ============================================
# 🐳 Docker 部署配置
# ============================================

# 应用端口（宿主机端口）
APP_PORT=3005

# PostgreSQL配置
POSTGRES_USER=fsd_user
POSTGRES_PASSWORD=your-database-password
POSTGRES_DB=fsd_escrow
POSTGRES_PORT=5432
